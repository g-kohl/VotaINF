<div class="home-container">

    <app-menu></app-menu>
    
    <div class="app-content">
        <app-card 
            [title]="'ReuniÃ£o de colegiado'"
            [subtitle]="formatPeriod(agenda)">
            @if (agenda?.status === 'finalizada'){
                <div class="text-body">
                    <p>Votantes: {{ voters.join(', ') }}</p>
                </div>
            }
            <app-accordion-item
                *ngFor="let item of agendaItems; let i = index"
                [title]="item.title"
                [itemText]="item.description"
                [radioName]="'item-' + item.id"
                [agendaStatus]="agenda?.status"
                (selectedVoteChange)="onVote(item.id, $event)"
                [voteResults]="voteResults[item.id]">
            </app-accordion-item>
            @if (agenda?.status === 'em-andamento'){
                <div class="button-group">
                    <button class="button" (click)="submitVotes()">
                        Submeter votos
                    </button>
                </div>
            }
        </app-card>
    </div>

</div>
