<div class="page-container">

    <div class="header-section">
        <div class="title-info">
            <h1>Reunião de colegiado</h1>
            <p>Departamento de Informática Aplicada (INA)</p>
            <p>10/10/2025</p>
        </div>
    </div>

    <div class="agenda-container" *ngIf="loaded && agenda && agenda.length > 0">
        
        <div *ngFor="let item of agenda" class="agenda-card">
            
            <div class="card-header">
                <h2 class="item-title">
                    <span class="item-number">{{ item.id }}.</span> {{ item.assunto }}
                </h2>
            </div>

            <div class="card-body">
                <p class="item-description">{{ item.descricao }}</p>

                <p class="anexos-link" *ngIf="item.arquivosAnexos">
                    <a [href]="item.arquivosAnexos" target="_blank">Ver Anexos</a>
                </p>

                <div class="vote-options">
                    <label [class.selected]="item.userVote === 'Sim'" class="aprovacao">
                        <input type="radio" name="vote-{{item.id}}" value="Sim" [(ngModel)]="item.userVote" (change)="submitVote(item, 'Sim')"> Aprovação
                    </label>

                    <label [class.selected]="item.userVote === 'Nao'" class="reprovacao">
                        <input type="radio" name="vote-{{item.id}}" value="Nao" [(ngModel)]="item.userVote" (change)="submitVote(item, 'Nao')"> Reprovação
                    </label>

                    <label [class.selected]="item.userVote === 'Diligencia'" class="abstencao">
                        <input type="radio" name="vote-{{item.id}}" value="Diligencia" [(ngModel)]="item.userVote" (change)="submitVote(item, 'Diligencia')"> Abstenção
                    </label>
                </div>
            </div>
        </div>
    </div>
    
    <div *ngIf="loaded && (!agenda || agenda.length === 0)" class="empty-state">
        <p>Nenhum item de pauta encontrado para votação.</p>
    </div>

</div>